<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Hello, Welcome to Club Festival</title>
    <meta name="description" content="Club Festival">
	<script src="https://aframe.io/releases/0.8.2/aframe.min.js"></script>
	<script src="https://unpkg.com/aframe-orbit-controls@1.0.0/dist/aframe-orbit-controls.min.js"></script>

	<script >
	/*var boxEl = document.querySelector('#sphere1');
	 boxEl.addEventListener('click', function () {
	 window.location.href="https://www.google.com"
  });

  var boxEl = document.querySelector('#sphere2');
	 boxEl.addEventListener('click', function () {
	 window.location.href="https://www.google.com"
  });*/




  AFRAME.registerComponent('click-enter-map1', {
    init: function () {
      var data = this.data;
      this.el.addEventListener('click', function () {
		 document.getElementById("sphere1").setAttribute('visible', false);
		 document.getElementById("sphere2").setAttribute('visible', false);
		 document.getElementById("cube").setAttribute('visible',false);
		 document.getElementById("map1").setAttribute('visible', true);
		 document.getElementById("map2").setAttribute('visible', false);
		 document.getElementById("back").setAttribute('visible', true);
      });
    }
  });

  AFRAME.registerComponent('click-enter-map2', {
    init: function () {
      var data = this.data;
      this.el.addEventListener('click', function () {
		 document.getElementById("sphere1").setAttribute('visible', false);
		 document.getElementById("sphere2").setAttribute('visible', false);
		 document.getElementById("cube").setAttribute('visible',false);
		 document.getElementById("map1").setAttribute('visible', false);
		 document.getElementById("map2").setAttribute('visible', true);
		 document.getElementById("back").setAttribute('visible', true);
      });
    }
  });


   AFRAME.registerComponent('main', {
    init: function () {
      var data = this.data;
      this.el.addEventListener('click', function () {
	     document.getElementById("map1").setAttribute('visible', false);
		 document.getElementById("map2").setAttribute('visible', false);
		 document.getElementById("back").setAttribute('visible', false);
		 document.getElementById("sphere1").setAttribute('visible', true);
		 document.getElementById("sphere2").setAttribute('visible', true);
		 document.getElementById("cube").setAttribute('visible',true);

      });
    }
  });


</script>
  </head>

  <body>

    <a-scene background="color: #ECECEC">

	<a-assets>
        <video id="webcam" playsinline></video>
        <img id="nyu" src="/image/nyu.jpg" crossorigin="anonymous">
		<img id = "nyu-map" src="/image/nyu-map.jpg" crossorigin="anonymous">
		<img id = "ny" src="/image/NY.jpg" crossorigin="anonymous">
		<img id = "sky" src="/image/environment_header.jpg" crossorigin="anonymous">
		 <img id="skyTexture"
      src="https://cdn.aframe.io/360-image-gallery-boilerplate/img/sechelt.jpg">
		<img id="tandon-map" src="/image/tandon-map.png" crossorigin="anonymous">
		<!--<a-asset-item if="cal" src="/static/gltf/scene.gltf"></a-asset-item>!-->

	  </a-assets>

		<a-entity camera look-controls orbit-controls="
										target: -1 1 -3;
										minDistance: 0.5;
										maxDistance: 180;
										initialPosition: -1 2 1">
		</a-entity>


	  <a-sky src="#sky"></a-sky>

      <a-box id="cube"
			 src="#nyu"
			 position="-1 1 -3"
			 rotation="0 45 0"
			 scale="1 1.5 1"
			 visible="true"
			 material='opacity: 0.8;'
			 >
		<a-animation attribute="position"
					 to="-1 1.5 -3"
					 direction="alternate"
					 dur="2000"
                     repeat="indefinite">
		</a-animation>
		<!--<a-animation attribute="scale" begin="mouseenter" dur="300" to="2.3 2.3 2.3"></a-animation>!-->
		<!--<a-animation attribute="scale" begin="mouseleave" dur="300" to="1 1.5 1"></a-animation>!-->
		<!--<a-animation attribute="rotation" begin="click" dur="2000" to="360 405 45"></a-animation>!-->
	  </a-box>

	  <a-sphere id="sphere1"
				position="0 1.5 -3"
				scale="0.1 0.1 0.1"
				color="yellow"
				visible = "true";
				click-enter-map1>

			<a-animation attribute="scale"
						 from="0.1 0.1 0.1"
						 to="0.15 0.15 0.15"
						 begin="mouseenter"
						 dur="200">
			</a-animation>

			<a-animation attribute="scale"
						 from="0.15 0.15 0.15"
						 to="0.1 0.1 0.1"
						 begin="mouseleave"
						 dur="200">
			</a-animation>

			<a-animation attribute="color"
						 from="yellow"
						 to="red"
						 begin="mouseenter"
						 dur="200" ></a-animation>
			<a-animation attribute="color"
						 from="red"
						 to="yellow"
						 begin="mouseleave"
						 dur="200" ></a-animation>
	  </a-sphere>


	  <a-sphere id="sphere2"
				position="0.8 1.5 -3"
				scale="0.1 0.1 0.1"
				color="yellow"
				visible="true"
				click-enter-map2>

			<a-animation attribute="scale"
						 from="0.1 0.1 0.1"
						 to="0.15 0.15 0.15"
						 begin="mouseenter"
						 dur="200">
			</a-animation>

			<a-animation attribute="scale"
						 from="0.15 0.15 0.15"
						 to="0.1 0.1 0.1"
						 begin="mouseleave"
						 dur="200">
			</a-animation>

			<a-animation attribute="color"
						 from="yellow"
						 to="red"
						 begin="mouseenter"
						 dur="200" >
			</a-animation>
			<a-animation attribute="color"
						 from="red"
						 to="yellow"
						 begin="mouseleave"
						 dur="200" >
			</a-animation>
	  </a-sphere>

	  <a-image id="map1"
			   src="#tandon-map"
			   visible="false"
			   position="0 1.5 -3"
			   scale="2 2 2">
	  </a-image>

	  <a-image id="map2"
			   src="#nyu-map"
			   visible="false"
			   position="0 1.5 -3"
			   scale="2 2 2">
	  </a-image>


	  <a-text  id="back"
				position="-0.7 0.2 -3"
				value="Back"
			    color="black"
			    scale="2 2 2"
				visible="false"
				main>

				<a-animation attribute="color"
						 from="black"
						 to="white"
						 begin="mouseenter"
						 dur="200" ></a-animation>

				<a-animation attribute="color"
						 from="white"
						 to="black"
						 begin="mouseleave"
						 dur="200" ></a-animation>

	  </a-text>




	  <a-light type="ambient"
			   color="#445451">
	  </a-light>

      <a-light type="point"
			   intensity="2"
			   position="2 4 4">
	  </a-light>



	   <a-entity cursor="rayOrigin: mouse;" ></a-entity>

    </a-scene>









  </body>
</html>
